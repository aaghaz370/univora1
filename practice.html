<section id="industries">
  <h2>Industries We Serve</h2>
  <div class="grid">
    <div class="card" onclick="openIndustryModal(0)">
      <img src="assets/course.jpg" alt="Residential Complexes" class="industry-img" />
      <p>Residential Complexes</p>
    </div>
    <div class="card" onclick="openIndustryModal(1)">
      <img src="assets/hospital.jpg" alt="Hospitals" class="industry-img" />
      <p>Hospitals</p>
    </div>
    <div class="card" onclick="openIndustryModal(2)">
      <img src="assets/hotels.jpg" alt="Hotels & Resorts" class="industry-img" />
      <p>Hotels & Resorts</p>
    </div>
    <div class="card" onclick="openIndustryModal(3)">
      <img src="assets/factories.jpg" alt="Factories" class="industry-img" />
      <p>Factories</p>
    </div>
  </div>

  <div id="industryModal" class="industry-modal">
    <div class="industry-modal-content">
      <span class="industry-close" onclick="closeIndustryModal()">&times;</span>
      <img id="industryModalImg" src="" alt="" class="industry-img" />
      <h3 id="industryModalTitle"></h3>
      <p id="industryModalDesc"></p>
      <div class="audio-player">
        <audio id="industryAudio" src="assets/theme.mp3"></audio>
        <button id="playPauseBtn">▶️</button>
        <span id="audioTime">0:00</span>
      </div>
    </div>
  </div>
</section>

<style>
  .industry-modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
  }

  .industry-modal-content {
    background-color: #fff;
    margin: 5% auto;
    padding: 20px;
    border-radius: 10px;
    width: 90%;
    max-width: 600px;
    text-align: center;
    position: relative;
  }

  .industry-close {
    position: absolute;
    right: 15px;
    top: 10px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }

  .audio-player {
    margin-top: 15px;
    background: #f0f0f0;
    border-radius: 8px;
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }

  #playPauseBtn {
    font-size: 18px;
    cursor: pointer;
    background: none;
    border: none;
  }
</style>

<script>
  const industryData = [
    {
      title: "Residential Complexes",
      img: "assets/Residential Complexes.jpg",
      desc: "Notices and updates related to Residential Complexes."
    },
    {
      title: "Hospitals",
      img: "assets/hospital.jpg",
      desc: "Notices and updates related to Hospitals."
    },
    {
      title: "Hotels & Resorts",
      img: "assets/hotels.jpg",
      desc: "Notices and updates related to Hotels & Resorts."
    },
    {
      title: "Factories",
      img: "assets/factories.jpg",
      desc: "Notices and updates related to Factories."
    }
  ];

  function openIndustryModal(index) {
    const modal = document.getElementById("industryModal");
    const data = industryData[index];
    document.getElementById("industryModalImg").src = data.img;
    document.getElementById("industryModalTitle").innerText = data.title;
    document.getElementById("industryModalDesc").innerText = data.desc;
    modal.style.display = "block";
  }

  function closeIndustryModal() {
    document.getElementById("industryModal").style.display = "none";
    document.getElementById("industryAudio").pause();
  }

  window.onclick = function(event) {
    const modal = document.getElementById("industryModal");
    if (event.target === modal) {
      closeIndustryModal();
    }
  }

  document.getElementById("playPauseBtn").addEventListener("click", function () {
    const audio = document.getElementById("industryAudio");
    const time = document.getElementById("audioTime");
    if (audio.paused) {
      audio.play();
      this.innerText = "⏸️";
    } else {
      audio.pause();
      this.innerText = "▶️";
    }
  });

  document.getElementById("industryAudio").addEventListener("timeupdate", function () {
    const time = document.getElementById("audioTime");
    const minutes = Math.floor(this.currentTime / 60);
    const seconds = Math.floor(this.currentTime % 60).toString().padStart(2, '0');
    time.innerText = `${minutes}:${seconds}`;
  });
</script>
